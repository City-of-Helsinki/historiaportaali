!function(e,a,t){a.behaviors.themeCommon={attach:function(t,n){var r=document.referrer;if(r){var o=e(".generic-back-link",t);(r.includes("/haku")||r.includes("/search"))&&(o=e(".back-to-search-results",t));var s=o.closest(".container");o.length&&(e("a",o).attr("href",r),s.is(":visible")||s.show(),o.show())}var d=e(".header-search .hds-button--search-toggle");d.length&&d.on("click",(function(a){e(this).attr("aria-expanded",(function(e,a){return"true"==a?"false":"true"}))})),e(document).on("click",(function(a){e(a.target).closest(".header-search").length||d.attr("aria-expanded",!1)})),e(document).keyup((function(e){"Escape"===e.key&&d.attr("aria-expanded",!1)})),a.behaviors.themeCommon.addEvenOddClasses(t),a.behaviors.themeCommon.addKoreMarkers(t)},addEvenOddClasses:function(a){var t=e(".node--type-article.node--view-mode-full .paragraph-content",a),n=e(".image, .remote-video",t);n.length&&n.each((function(a){a%2==0?e(this).addClass("odd"):e(this).addClass("even")}))},addKoreMarkers:function(a){e(document).on("leafletMapInit",(function(t,n,r,o){$paragraphs=e("div.paragraph--type--kore-address",a),$paragraphs.each((function(){var a=e(this).find("button.kore-address").attr("data-lat"),t=e(this).find("button.kore-address").attr("data-lon");if(a!=t){var n=new L.LatLng(a,t),o=L.icon({iconSize:["36","36"],iconUrl:"/themes/custom/hdbt_subtheme/src/icons/map_marker.svg"});L.marker(n,{icon:o}).addTo(r)}})),$buttons=e("button.kore-address",a),$buttons.on("click",(function(){var a=e(this).attr("data-lat"),t=e(this).attr("data-lon"),n=new L.LatLng(a,t);r.flyTo(n,16),e("article")[0].scrollIntoView({behavior:"smooth"})}))}))}}}(jQuery,Drupal,drupalSettings);