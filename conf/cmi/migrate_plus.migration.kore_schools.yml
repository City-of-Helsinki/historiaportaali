uuid: 9bc11f92-87e1-4f38-95d1-07231bda556b
langcode: en
status: true
dependencies: {  }
id: kore_schools
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: {  }
migration_group: koulurekisteri
label: Koulurekisteri
source:
  plugin: url
  data_fetcher_plugin: http
  data_parser_plugin: json
  urls:
    - 'https://api.hel.fi/kore/v1/school/?format=json&limit=100'
  item_selector: results
  fields:
    -
      name: id
      selector: id
    -
      name: title
      selector: names/0/official_name
    -
      name: photo
      selector: buildings/0/building/photos/0/url
    -
      name: lat
      selector: buildings/0/building/addresses/0/location/coordinates/1
    -
      name: lon
      selector: buildings/0/building/addresses/0/location/coordinates/0
    -
      name: names
      selector: names
    -
      name: types
      selector: types
    -
      name: principals
      selector: principals
    -
      name: archives
      selector: archives
    -
      name: buildings
      selector: buildings
    -
      name: continuum_active
      selector: continuum_active
    -
      name: continuum_target
      selector: continuum_target
  ids:
    id:
      type: integer
process:
  type:
    plugin: default_value
    default_value: kore_school
  title: title
  body/value: photo
  body/summary:
    plugin: default_value
    default_value: ''
  body/format:
    plugin: default_value
    default_value: full_html
  field_geolocation:
    plugin: geofield_latlon
    source:
      - lat
      - lon
  field_kore_id: id
  field_kore_names:
    plugin: kore_names
    source: names
  field_kore_principals:
    plugin: kore_principals
    source: principals
  field_kore_archives:
    plugin: kore_archives
    source: archives
  field_kore_buildings:
    plugin: kore_buildings
    source: buildings
  field_kore_continuums:
    plugin: kore_continuums
    source:
      - continuum_active
      - continuum_target
  field_kore_types:
    plugin: kore_types
    source: types
  uid:
    plugin: default_value
    default_value: 1
destination:
  plugin: 'entity:node'
migration_dependencies: {  }
