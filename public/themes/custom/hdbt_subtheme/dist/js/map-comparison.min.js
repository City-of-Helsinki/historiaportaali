!function(a,n,e){var o,i;n.behaviors.mapComparison={attach:function(n,e){var i=this;a(document).on("leaflet.map",(function(a,e,t,s){o=t,i.bindCompareButton(n)}))},bindCompareButton:function(n){var e=this,o=a(".views--combined-map",n);a(".map-controls__control #map-comparison-btn",n).once("comparison-button").on("click",(function(){console.log("click"),o.is(".comparison-enabled")?e.disableMapComparison():e.enableMapComparison()}))},enableMapComparison:function(){a(".views--combined-map").addClass("comparison-enabled"),a("#comparison-map-container").fadeIn(150),o.invalidateSize(),this.initMap("comparison-map-container")&&this.syncMaps()},initMap:function(o){var t=a("#".concat(o)),s=Object.values(e.leaflet)[0];if(!s)return!1;var c=s.map;return c.settings.mapName="comparison-map",c.settings.zoomControl=!1,void 0===t.data("leaflet")&&(t.data("leaflet",new n.Leaflet(L.DomUtil.get(o),o,c)),i=t.data("leaflet").lMap,s.features.length>0&&(n.Leaflet[o].markers={},n.Leaflet[o].features={},t.data("leaflet").add_features(o,s.features,!0))),!0},disableMapComparison:function(){a(".views--combined-map").removeClass("comparison-enabled"),a("#comparison-map-container").fadeOut(150),this.unSyncMaps(),o.invalidateSize()},syncMaps:function(){o.isSynced(i)||o.sync(i),i.isSynced(o)||i.sync(o)},unSyncMaps:function(){o.isSynced(i)&&o.unsync(i),i.isSynced(o)&&i.unsync(o)}}}(jQuery,Drupal,drupalSettings);