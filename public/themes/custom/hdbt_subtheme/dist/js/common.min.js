(()=>{var e=Object.defineProperty;var t=(t,a)=>e(t,"name",{value:a,configurable:true});((e,Drupal,a)=>{const{behaviors:o}=Drupal;o.themeCommon={attach(r){const n=e(".header-search .nav-toggle__button",r);const s=e(".header-search__form-wrapper",r);const c=t(()=>{n.attr("aria-expanded","true");s.stop(true,false).slideDown(300,()=>{e("#edit-q-header").focus()})},"openSearchForm");const d=t(()=>{n.attr("aria-expanded","false");s.stop(true,false).slideUp(300)},"closeSearchForm");for(const t of a("header-search-toggle",".header-search .nav-toggle__button",r)){e(t).on("click",a=>{a.preventDefault();a.stopPropagation();const o=e(t).attr("aria-expanded")==="true";if(o){d()}else{c()}})}e(document).on("click",t=>{if(!e(t.target).closest(".header-search").length){if(n.attr("aria-expanded")==="true"){d()}}});e(document).keyup(e=>{if(e.key==="Escape"&&n.attr("aria-expanded")==="true"){d()}});o.themeCommon.addEvenOddClasses(r);o.themeCommon.addKoreMarkers(r)},addEvenOddClasses(t){const a=e(".node--type-article.node--view-mode-full .paragraph-content",t);const o=e(".image, .remote-video",a);if(o.length){o.each((t,a)=>{const o=e(a);if(t%2===0){o.addClass("odd")}else{o.addClass("even")}})}},addKoreMarkers(){const t="div.paragraph--type--kore-building";const a="button.kore-address";e(document).on("leafletMapInit",(o,r,n)=>{const s=e(t);s.each((t,o)=>{const r=e(o);const s=r.find(a);const c=s.attr("data-lat");const d=s.attr("data-lon");if(c&&d&&c!==d){const e=new L.LatLng(c,d);const t=L.icon({iconSize:["36","36"],iconUrl:"/themes/custom/hdbt_subtheme/src/icons/map_marker.svg"});L.marker(e,{icon:t}).addTo(n)}});const c=e(a);c.off("click").on("click",t=>{const a=e(t.currentTarget);const o=a.attr("data-lat");const r=a.attr("data-lon");const s=new L.LatLng(o,r);n.flyTo(s,16);e("article")[0].scrollIntoView({behavior:"smooth"})})})}}})(jQuery,Drupal,once)})();