((a,e,r)=>{e.behaviors.mapControls={attach:function(r,t){a(document).on("leaflet.map",(function(a,r,t,o){e.behaviors.mapControls.bindEraControls(t)}))},bindEraControls:function(r){let t=a(".map-controls__map-era .map-controls__map-era-item");t.on("click",(function(o){let n=a(o.target).data("map-era"),s=a(o.target).data("map-wms-title");e.behaviors.mapControls.loadEraLayer(r,n,s),t.removeClass("active"),a(o.target).addClass("active")}))},loadEraLayer:function(a,r,t){e.behaviors.mapControls.removeMapEraLayers(a),t&&"present"!==r&&L.tileLayer.wms("https://kartta.hel.fi/ws/geoserver/avoindata/wms",{layers:t,format:"image/png",transparent:!0}).addTo(a)},removeMapEraLayers:function(a){let e=Object.entries(a._layers).filter((([a,e])=>e.hasOwnProperty("wmsParams")));e.length>0&&e.forEach((a=>a[1].remove()))}}})(jQuery,Drupal,drupalSettings);