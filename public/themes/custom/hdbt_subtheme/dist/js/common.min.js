(()=>{var e=Object.defineProperty;var t=(t,a)=>e(t,"name",{value:a,configurable:true});((e,Drupal,drupalSettings,a)=>{Drupal.behaviors.themeCommon={attach:t(function(n,o){let r=document.referrer;if(r){let t=e(".generic-back-link",n);if(r.includes("/haku")||r.includes("/search")){t=e(".back-to-search-results",n)}if(history.length>1){r="javascript:history.go(-1)"}const a=t.closest(".container");if(t.length){e("a",t).attr("href",r);if(!a.is(":visible")){a.show()}t.show()}}const s=e(".header-search .nav-toggle__button",n);const c=e(".header-search__form-wrapper",n);const i=t(function(){s.attr("aria-expanded","true");c.stop(true,false).slideDown(300,function(){e("#edit-q-header").focus()})},"openSearchForm");const d=t(function(){s.attr("aria-expanded","false");c.stop(true,false).slideUp(300)},"closeSearchForm");a("header-search-toggle",".header-search .nav-toggle__button",n).forEach(t=>{e(t).on("click",function(t){t.preventDefault();t.stopPropagation();const a=e(this).attr("aria-expanded")==="true";a?d():i()})});e(document).on("click",function(t){if(!e(t.target).closest(".header-search").length){if(s.attr("aria-expanded")==="true"){d()}}});e(document).keyup(function(e){if(e.key==="Escape"&&s.attr("aria-expanded")==="true"){d()}});Drupal.behaviors.themeCommon.addEvenOddClasses(n);Drupal.behaviors.themeCommon.addKoreMarkers(n)},"attach"),addEvenOddClasses:t(function(t){let a=e(".node--type-article.node--view-mode-full .paragraph-content",t);let n=e(".image, .remote-video",a);if(n.length){n.each(function(t){if(t%2==0){e(this).addClass("odd")}else{e(this).addClass("even")}})}},"addEvenOddClasses"),addKoreMarkers:t(function(t){const a="div.paragraph--type--kore-building";const n="button.kore-address";e(document).on("leafletMapInit",function(t,o,r,s){const c=e(a);c.each(function(){const t=e(this);const a=t.find(n);const o=a.attr("data-lat");const s=a.attr("data-lon");if(o&&s&&o!==s){const e=new L.LatLng(o,s);const t=L.icon({iconSize:["36","36"],iconUrl:"/themes/custom/hdbt_subtheme/src/icons/map_marker.svg"});L.marker(e,{icon:t}).addTo(r)}});const i=e(n);i.off("click").on("click",function(){const t=e(this).attr("data-lat");const a=e(this).attr("data-lon");const n=new L.LatLng(t,a);r.flyTo(n,16);e("article")[0].scrollIntoView({behavior:"smooth"})})})},"addKoreMarkers")}})(jQuery,Drupal,drupalSettings,once)})();