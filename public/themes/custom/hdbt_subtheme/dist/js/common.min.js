!function(t,a,e){a.behaviors.themeCommon={attach:function(e,n){var r=document.referrer;if(r){var o=t(".generic-back-link",e);(r.includes("/haku")||r.includes("/search"))&&(o=t(".back-to-search-results",e));var i=o.closest(".container");o.length&&(t("a",o).attr("href",r),i.is(":visible")||i.show(),o.show())}var s=t(".header-search .hds-button--search-toggle");s.length&&s.on("click",(function(a){t(this).attr("aria-expanded",(function(t,a){return"true"==a?"false":"true"}))})),t(document).on("click",(function(a){t(a.target).closest(".header-search").length||s.attr("aria-expanded",!1)})),t(document).keyup((function(t){"Escape"===t.key&&s.attr("aria-expanded",!1)})),a.behaviors.themeCommon.addEvenOddClasses(e),a.behaviors.themeCommon.addKoreMarkers(e)},addEvenOddClasses:function(a){var e=t(".node--type-article.node--view-mode-full .paragraph-content",a),n=t(".image, .remote-video",e);n.length&&n.each((function(a){a%2==0?t(this).addClass("odd"):t(this).addClass("even")}))},addKoreMarkers:function(a){t(document).on("leafletMapInit",(function(e,n,r,o){$buildings=t("div.paragraph--type--kore-building",a),$buildings.each((function(){t(this).find("div.paragraph--type--kore-address").each((function(){t(this).find("button.kore-address").each((function(){t('[data-lat="'+t(this).attr("data-lat")+'"][data-lon="'+t(this).attr("data-lon")+'"]:not(:last)').remove()}))}));var a=t(this).find("button.kore-address").attr("data-lat"),e=t(this).find("button.kore-address").attr("data-lon");if(a!=e){var n=new L.LatLng(a,e),o=L.icon({iconSize:["36","36"],iconUrl:"/themes/custom/hdbt_subtheme/src/icons/map_marker.svg"});L.marker(n,{icon:o}).addTo(r)}})),$buttons=t("button.kore-address",a),$buttons.on("click",(function(){var a=t(this).attr("data-lat"),e=t(this).attr("data-lon"),n=new L.LatLng(a,e);r.flyTo(n,16),t("article")[0].scrollIntoView({behavior:"smooth"})}))}))}}}(jQuery,Drupal,drupalSettings);