!function(a,n,e){var o,t;n.behaviors.mapComparison={attach:function(n,e){var t=this;a(document).on("leaflet.map",(function(a,e,i,s){o=i,t.bindCompareButton(n)}))},bindCompareButton:function(n){var e=this,o=a(".views--combined-map",n);a(".map-controls__control #map-comparison-btn",n).once("comparison-button").on("click",(function(){o.is(".comparison-enabled")?e.disableMapComparison():e.enableMapComparison()}))},enableMapComparison:function(){a(".views--combined-map").addClass("comparison-enabled"),a("#comparison-map-container").fadeIn(150),o.invalidateSize(),this.initMap("comparison-map-container")&&this.syncMaps()},initMap:function(o){var i=a("#".concat(o)),s=Object.values(e.leaflet)[0];if(!s)return!1;var c=s.map;return c.settings.mapName="comparison-map",c.settings.zoomControl=!1,void 0===i.data("leaflet")&&(i.data("leaflet",new n.Leaflet(L.DomUtil.get(o),o,c)),t=i.data("leaflet").lMap,s.features.length>0&&(n.Leaflet[o].markers={},n.Leaflet[o].features={},i.data("leaflet").add_features(o,s.features,!0))),!0},disableMapComparison:function(){a(".views--combined-map").removeClass("comparison-enabled"),a("#comparison-map-container").fadeOut(150),this.unSyncMaps(),o.invalidateSize()},syncMaps:function(){o.isSynced(t)||o.sync(t),t.isSynced(o)||t.sync(o)},unSyncMaps:function(){o.isSynced(t)&&o.unsync(t),t.isSynced(o)&&t.unsync(o)}}}(jQuery,Drupal,drupalSettings);