!function(e,a){a.behaviors.themeCommon={attach:function(t,n){var r=document.referrer;if(r){var o=e(".generic-back-link",t);(r.includes("/haku")||r.includes("/search"))&&(o=e(".back-to-search-results",t)),history.length>1&&(r="javascript:history.go(-1)");var i=o.closest(".container");o.length&&(e("a",o).attr("href",r),i.is(":visible")||i.show(),o.show())}var s=e(".header-search .hds-button--search-toggle");s.length&&s.on("click",(function(a){e(this).attr("aria-expanded",(function(e,a){return"true"==a?"false":"true"}))})),e(document).on("click",(function(a){e(a.target).closest(".header-search").length||s.attr("aria-expanded",!1)})),e(document).keyup((function(e){"Escape"===e.key&&s.attr("aria-expanded",!1)})),a.behaviors.themeCommon.addEvenOddClasses(t),a.behaviors.themeCommon.addKoreMarkers(t)},addEvenOddClasses:function(a){var t=e(".node--type-article.node--view-mode-full .paragraph-content",a),n=e(".image, .remote-video",t);n.length&&n.each((function(a){a%2==0?e(this).addClass("odd"):e(this).addClass("even")}))},addKoreMarkers:function(a){var t="button.kore-address";e(document).on("leafletMapInit",(function(a,n,r,o){e("div.paragraph--type--kore-building").each((function(){var a=e(this);a.find(t).not(":last").remove();var n=a.find(t),o=n.attr("data-lat"),i=n.attr("data-lon");if(o&&i&&o!==i){var s=new L.LatLng(o,i),c=L.icon({iconSize:["36","36"],iconUrl:"/themes/custom/hdbt_subtheme/src/icons/map_marker.svg"});L.marker(s,{icon:c}).addTo(r)}})),e(t).off("click").on("click",(function(){var a=e(this).attr("data-lat"),t=e(this).attr("data-lon"),n=new L.LatLng(a,t);r.flyTo(n,16),e("article")[0].scrollIntoView({behavior:"smooth"})}))}))}}}(jQuery,Drupal,drupalSettings);