!function(e,t,a){t.behaviors.themeCommon={attach:function(a,n){var r=document.referrer;if(r){var o=e(".generic-back-link",a);(r.includes("/haku")||r.includes("/search"))&&(o=e(".back-to-search-results",a)),history.length>1&&(r="javascript:history.go(-1)");var s=o.closest(".container");o.length&&(e("a",o).attr("href",r),s.is(":visible")||s.show(),o.show())}var i=e(".header-search .hds-button--search-toggle");i.length&&i.on("click",(function(t){e(this).attr("aria-expanded",(function(e,t){return"true"==t?"false":"true"}))})),e(document).on("click",(function(t){e(t.target).closest(".header-search").length||i.attr("aria-expanded",!1)})),e(document).keyup((function(e){"Escape"===e.key&&i.attr("aria-expanded",!1)})),t.behaviors.themeCommon.addEvenOddClasses(a),t.behaviors.themeCommon.addKoreMarkers(a)},addEvenOddClasses:function(t){var a=e(".node--type-article.node--view-mode-full .paragraph-content",t),n=e(".image, .remote-video",a);n.length&&n.each((function(t){t%2==0?e(this).addClass("odd"):e(this).addClass("even")}))},addKoreMarkers:function(t){e(document).on("leafletMapInit",(function(a,n,r,o){$buildings=e("div.paragraph--type--kore-building",t),$buildings.each((function(){e(this).find("button.kore-address").not(":last").remove();var t=e(this).find("button.kore-address").attr("data-lat"),a=e(this).find("button.kore-address").attr("data-lon");if(t!=a){var n=new L.LatLng(t,a),o=L.icon({iconSize:["36","36"],iconUrl:"/themes/custom/hdbt_subtheme/src/icons/map_marker.svg"});L.marker(n,{icon:o}).addTo(r)}})),$buttons=e("button.kore-address",t),$buttons.on("click",(function(){var t=e(this).attr("data-lat"),a=e(this).attr("data-lon"),n=new L.LatLng(t,a);r.flyTo(n,16),e("article")[0].scrollIntoView({behavior:"smooth"})}))}))}}}(jQuery,Drupal,drupalSettings);