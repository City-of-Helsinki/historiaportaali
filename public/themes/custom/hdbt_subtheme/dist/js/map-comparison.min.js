!function(a,n,e){var i,t;n.behaviors.mapComparison={attach:function(n,e){var t=this;a(document).on("leaflet.map",(function(a,n,e,o){i=e,t.bindCompareButton()}))},bindCompareButton:function(){var n=this,e=a(".views--combined-map");a(".map-controls__control #map-comparison-btn").on("click",(function(a){e.is(".comparison-enabled")?n.disableMapComparison():n.enableMapComparison()}))},enableMapComparison:function(){a(".views--combined-map").addClass("comparison-enabled"),a("#comparison-map-container").fadeIn(150),i.invalidateSize(),this.initMap("comparison-map-container")&&this.syncMaps()},initMap:function(i){var o=a("#".concat(i)),s=Object.values(e.leaflet)[0];if(!s)return!1;var c=s.map;return c.settings.mapName="comparison-map",c.settings.zoomControl=!1,void 0===o.data("leaflet")&&(o.data("leaflet",new n.Leaflet(L.DomUtil.get(i),i,c)),t=o.data("leaflet").lMap,s.features.length>0&&(n.Leaflet[i].markers={},n.Leaflet[i].features={},o.data("leaflet").add_features(i,s.features,!0))),!0},disableMapComparison:function(){a(".views--combined-map").removeClass("comparison-enabled"),a("#comparison-map-container").fadeOut(150),this.unSyncMaps(),i.invalidateSize()},syncMaps:function(){i.isSynced(t)||i.sync(t),t.isSynced(i)||t.sync(i)},unSyncMaps:function(){i.isSynced(t)&&i.unsync(t),t.isSynced(i)&&t.unsync(i)}}}(jQuery,Drupal,drupalSettings);