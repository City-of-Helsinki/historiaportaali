((a,e,t)=>{e.behaviors.mapControls={attach:function(t,r){a(document).on("leaflet.map",(function(a,t,r,o){e.behaviors.mapControls.bindEraControls(r)}))},bindEraControls:function(t){let r=a(".map-controls__map-era .map-controls__map-era-item");r.on("click",(function(o){let n=a(o.target).data("map-era"),l=a(o.target).data("map-image-url"),s=a(o.target).data("map-bounds");e.behaviors.mapControls.loadEraLayer(t,n,l,s),r.removeClass("active"),a(o.target).addClass("active")}))},loadEraLayer:function(a,t,r,o){if(e.behaviors.mapControls.removeMapEraLayers(a),r&&o&&"present"!==t){let e=o.topLeft.split(","),t=o.bottomRight.split(",");L.imageOverlay(r,[e,t],{className:"era"}).addTo(a)}},removeMapEraLayers:function(a){let e=Object.entries(a._layers).filter((([a,e])=>"era"==e.options.className));e.length>0&&e.forEach((a=>a[1].remove()))}}})(jQuery,Drupal,drupalSettings);